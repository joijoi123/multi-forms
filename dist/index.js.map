{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/utils/spanatural.ts", "../src/index.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "export const spaForm = () => {\n  let currentStep = 1;\n  let intervalID = 0;\n  let opacity = 0;\n\n  const init = () => {\n    const forms = document.querySelectorAll('[sayu-form-step]');\n    forms.forEach((element) => {\n      (element as HTMLElement).style.display = 'none';\n      (element as HTMLElement).style.opacity = '0';\n    });\n    (forms[0] as HTMLElement).style.display = 'flex';\n    (forms[0] as HTMLElement).style.opacity = '1';\n    loaded();\n  };\n\n  const getTotalStep = () => document.querySelectorAll('[sayu-form-step]').length;\n  const getWarningEle = () => {\n    return document.querySelectorAll('[sayu-form=' + \"'\" + 'warning' + \"'\" + ']')[0] as HTMLElement;\n  };\n  const getLoadingElement = () =>\n    document.querySelectorAll('[sayu-form-loading]')[0] as HTMLElement;\n  const getFormStep = (currentStep: number) => {\n    return document.querySelectorAll(\n      '[sayu-form-step=' + \"'\" + currentStep + \"'\" + ']'\n    )[0] as HTMLElement;\n  };\n  const loaded = () => {\n    const totalStep = getTotalStep();\n    const btnNext = document.querySelector(\"[sayu-button='next']\");\n    const btnPrev = document.querySelector(\"[sayu-button='prev']\");\n    btnNext?.addEventListener('click', clickNext);\n    btnPrev?.addEventListener('click', clickPrev);\n    (btnPrev as HTMLElement).style.display = 'none';\n    const loading = getLoadingElement();\n    loading.style.width = `${(currentStep * 100) / totalStep}%`;\n    showWarning(false);\n  };\n  const showWarning = (isFlag: boolean) => {\n    const warning = getWarningEle();\n    isFlag ? (warning.style.display = 'flex') : (warning.style.display = 'none');\n  };\n  const fadeIn = (ele: any) => {\n    intervalID = setInterval(() => {\n      if (opacity < 1) {\n        opacity = opacity + 0.01;\n        (ele as HTMLElement).style.opacity = `${opacity}`;\n      } else {\n        opacity = 0;\n        clearInterval(intervalID);\n      }\n    }, 0);\n  };\n  const requiredFields = () => {\n    const query =\n      '[sayu-form-wrapper=' +\n      \"'\" +\n      currentStep +\n      \"'\" +\n      '][sayu-form=' +\n      \"'\" +\n      'required' +\n      \"'\" +\n      ']';\n    return document.querySelectorAll(query);\n  };\n\n  const validateFormStep = () => {\n    const fields = requiredFields();\n    let result = false;\n    fields.forEach((ele) => {\n      if (ele.tagName === 'DIV') {\n        const radioList = ele.querySelectorAll('[required]');\n        result = validateRadioGroup(radioList);\n      }\n      if (ele.tagName === 'INPUT') {\n        result = validateTextInput(ele as HTMLInputElement);\n      }\n    });\n    return result;\n  };\n  const validateRadioGroup = (radiolist: NodeList) => {\n    let result = false;\n    radiolist.forEach((ele: unknown) => {\n      const item = ele as HTMLInputElement;\n      if (item.checked === true) {\n        result = true;\n        return result;\n      }\n    });\n    return result;\n  };\n\n  const validateTextInput = (input: HTMLInputElement) => {\n    if (input?.value.length === 0) {\n      return false;\n    }\n    return true;\n  };\n  const clickNext = (e: unknown) => {\n    const totalStep = getTotalStep();\n    const isValid = validateFormStep();\n\n    if (!isValid) {\n      // show warning here\n      showWarning(true);\n      return;\n    }\n    showWarning(false);\n    const prevForm = getFormStep(currentStep);\n    // eslint-disable-next-line no-plusplus\n    currentStep++;\n    currentStep > totalStep ? (currentStep = totalStep) : null;\n\n    const currentForm = getFormStep(currentStep);\n    prevForm.style.display = 'none';\n    currentForm.style.display = 'flex';\n    fadeIn(currentForm);\n    if (currentStep > 1) {\n      const btnPrev = document.querySelectorAll(\"[sayu-button='prev']\")[0] as HTMLElement;\n      btnPrev.style.display = 'inline-block';\n    }\n    if (currentStep === getTotalStep()) {\n      const btnNext = document.querySelector(\"[sayu-button='next']\") as HTMLElement;\n      btnNext.style.display = 'none';\n    }\n    const loading = getLoadingElement();\n    loading.style.width = `${(currentStep * 100) / totalStep}%`;\n  };\n\n  const clickPrev = () => {\n    showWarning(false);\n    const totalStep = getTotalStep();\n    const prevForm = getFormStep(currentStep);\n    // eslint-disable-next-line no-plusplus\n    currentStep--;\n    currentStep < 1 ? (currentStep = 1) : null;\n    const currentForm = getFormStep(currentStep);\n    prevForm.style.display = 'none';\n    currentForm.style.display = 'flex';\n    fadeIn(currentForm);\n    if (currentStep === 1) {\n      const btnPrev = document.querySelectorAll(\"[sayu-button='prev']\")[0] as HTMLElement;\n      btnPrev.style.display = 'none';\n      const btnNext = document.querySelector(\"[sayu-button='next']\") as HTMLElement;\n      btnNext.style.display = 'flex';\n    }\n    if (currentStep === totalStep) {\n      const btnNext = document.querySelector(\"[sayu-button='next']\") as HTMLElement;\n      btnNext.style.display = 'none';\n    } else if (currentStep < totalStep) {\n      const btnNext = document.querySelector(\"[sayu-button='next']\") as HTMLElement;\n      btnNext.style.display = 'flex';\n    }\n    const loading = getLoadingElement();\n    loading.style.width = `${(currentStep * 100) / totalStep}%`;\n  };\n\n  return init();\n};\n", "/* eslint-disable prefer-destructuring */\nimport { spaForm } from '$utils/spanatural';\ntry {\n  window.Webflow ||= [];\n  window.Webflow.push(() => {\n    spaForm();\n  });\n} catch (error) {}"],
  "mappings": "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",
  "names": ["currentStep"]
}
